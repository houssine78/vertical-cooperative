<openerp>
	<data>
		<record id="view_partner_form_energiris" model="ir.ui.view">
            <field name="name">res.partner.form.energiris</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
            	<xpath expr="/form/sheet/group" position='before'>
					<group colspan="4">
						<field name="cooperator_register_number" attrs="{'invisible':[('is_company','=',True)]}"/>
						<field name="national_register_number" attrs="{'invisible':[('is_company','=',True)]}"/>												
					</group>
	         	</xpath>
	         	
				<xpath expr="//field[@name='customer']" position='before'>
                   <field name="cooperator" attrs="{'invisible':[('is_company','=',True)]}"/>
                </xpath>
                
	         	<xpath expr="//page[@string='Accounting']" position='after'>
            		<page string="Share" name="share">
		         		<group>
			         		<field name="number_of_share"/>
			         		<field name="total_value"/>
		         		</group>
		         		<field name="share_ids">
		         			<tree>
		         				<field name="effective_date"/>
		         				<field name="payment_ref"/>
		         				<field name="release_date"/>
		         				<field name="share_number"/>
		         				<field name="unit_price"/>
		         				<field name="total_amount_line"/>
		         			</tree>
		         		</field>
		         	</page>
            	</xpath>
            </field>
        </record>
        
        <record id="view_partner_tree_energiris" model="ir.ui.view">
            <field name="name">res.partner.tree.energiris</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <xpath expr="/tree/field[@name='name']" position='after'>
                	<field name="int_cooperator_register_number" />
                </xpath>
            </field>
        </record>
        
        <record id="view_res_partner_filter_coop" model="ir.ui.view">
            <field name="name">res.partner.select</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
            	<xpath expr="//filter[@name='supplier']" position='after'>
                   <filter string="Cooperators" name="cooperator" domain="[('cooperator','=',1)]" help="Cooperator Partners"/>
                </xpath>
            </field>
        </record>
        
        <menuitem name="Cooperator" id="menu_energiris_main_coop" parent="menu_main_energiris" sequence="5" />
        
        <record id="action_partner_cooperator_form" model="ir.actions.act_window">
            <field name="name">Cooperator</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('cooperator','=',True),('member','=',True)]</field>
            <field name="context">{'default_cooperator':1, 'search_default_cooperator':1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                OpenERP helps you easily track all activities related to
                a cooperator: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>
        
        <menuitem id="menu_energiris_cooperator" name="Cooperators" parent="menu_energiris_main_coop" action="action_partner_cooperator_form" sequence="100"/>
        
        <record id="action_partner_cooperator_candidate_form" model="ir.actions.act_window">
            <field name="name">Cooperator</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('cooperator','=',True),('member','=',False),('old_member','=',False)]</field>
            <field name="context">{'default_cooperator':1, 'search_default_cooperator':1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                OpenERP helps you easily track all activities related to
                a cooperator: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>
        
        <record id="action_partner_cooperator_old_form" model="ir.actions.act_window">
            <field name="name">Cooperator</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('cooperator','=',True),('member','=',False),('old_member','=',True)]</field>
            <field name="context">{'default_cooperator':1, 'search_default_cooperator':1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                OpenERP helps you easily track all activities related to
                a cooperator: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>
        <menuitem id="menu_energiris_cooperator_candidate" name="Cooperators Candidate" parent="menu_energiris_main_coop" action="action_partner_cooperator_candidate_form" sequence="150"/>
	</data>
</openerp>
